var globalSet: fn() -> void
var globalGet: fn() -> void

fn set_vars() {
    var a = "init"

    // Here, assignment refers to heap variable
    fn set() { a = "updated" }
    fn get() { print a }

    globalSet = set
    globalGet = get
}

fn outer() -> fn() -> void {
    var x = "outside"

    fn inner() {
        print x
    }

    return inner
}

fn main() {
    var closure = outer()
    closure()

    set_vars()

    globalSet()
    globalGet()
}
