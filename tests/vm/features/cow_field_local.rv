struct Bar { v: int }
struct Foo { bar: Bar }

fn main() {
    var bar = Bar{v=5}
    var foo = Foo{bar}
    var ref = foo.bar

    print foo.bar.v
    print ref.v
    print "------"
    
    foo.bar.v = 9
    print foo.bar.v
    print ref.v
    print "------"

    ref = foo.bar
    foo.bar = Bar{v=12}
    print foo.bar.v
    print ref.v
    print "------"

    ref = foo.bar
    ref.v = 65
    print foo.bar.v
    print ref.v
    print "------"
}
