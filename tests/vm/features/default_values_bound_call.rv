use data.default_val

fn function(noval: str, arg1, arg2: int = 12, arg3 = 98.5) {
    print noval
    print arg1
    print arg2
    print arg3
}

struct Bar {
    fn staticFn(noval: str, arg1, arg2 = true, arg3 = 5) {
        print noval
        print arg1
        print arg2
        print arg3
    }

    fn method(self, noval: str, arg1, arg2 = false, arg3 = 88.55) {
        print noval
        print arg1
        print arg2
        print arg3
    }
}

struct Foo {
    bar: Bar,

    fn staticFn(noval: str, arg1, arg2: int = 111, arg3 = 56.5) {
        print noval
        print arg1
        print arg2
        print arg3
    }

    fn method(self, noval: str, arg1, arg2: int = 2, arg3 = 8.5) {
        print noval
        print arg1
        print arg2
        print arg3
    }
}

fn main() {
    // Free function
    var func: fn(str, int, int, float)
    func = function
    func("first", 1, 2, 24.5)
    func("second")
    func("third", 8)
    func("fourth", arg3=123.456)
    func("fifth", arg3=12.34, arg1=80)
    func("sixth", arg2=54, arg1=65, arg3=3.14)
    func(arg2=11, arg3=1.1, arg1=111, noval="seventh")

    // Static
    func = Foo.staticFn
    func("first", 10, 20, 245)
    func("second")
    func("third", 80)
    func("fourth", arg3=1234.56)
    func("fifth", arg3=123.4, arg1=800)
    func("sixth", arg2=540, arg1=650, arg3=31.4)
    func(arg2=110, arg3=10.1, arg1=1110, noval="seventh")

    // Method
    var bar = Bar{}
    var foo = Foo{bar}
    func = foo.method
    
    func("first", -1, -2, -24.5)
    func("second")
    func("third", -8)
    func("fourth", arg3=-123.456)
    func("fifth", arg3=-12.34, arg1=-80)
    func("sixth", arg2=-54, arg1=-65, arg3=-3.14)
    func(arg2=-11, arg3=-1.1, arg1=-111, noval="seventh")

    // Multi level static
    var func1 = foo.bar.staticFn
        
    func1("first", true, false, 98)
    func1("second")
    func1("third", false)
    func1("fourth", arg3=-287)
    func1("fifth", arg3=3, arg1=false)
    func1("sixth", arg2=false, arg1=true, arg3=654)
    func1(arg2=false, arg3=-36, arg1=false, noval="seventh")

    // Multi level method
    var func2 = foo.bar.method
        
    func2("first", true, false, -98.2)
    func2("second")
    func2("third", true)
    func2("fourth", arg3=-27.3)
    func2("fifth", arg3=30.4, arg1=true)
    func2("sixth", arg2=false, arg1=true, arg3=6540.6)
    func2(arg2=true, arg3=-360.9, arg1=false, noval="seventh")

    // Static on import
    var imported = default_val.Def{}
    var func3 = default_val.Def.staticFn
    func3("imported static")
    func3("imported static", c=true, b=90)

    // Method on import
    func3 = imported.method
    func3("imported method")
    func3("imported method", d=false, b=180)
}

