struct Vec {
    fn foo(self) { print "from Vec" }
}
struct Point {
    fn bar(self) { print "from Point" }
}


fn main() {
    var a: Vec|Point = Point{}

    when a {
        Vec => {}
        Point => {}
    }

    when a @b {
        Vec => b.foo()
        Point => b.bar()
    }

    var b = when a @b {
        Vec => 1
        Point => 2
    }
}
