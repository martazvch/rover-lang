//---- math ----

-- len --
get_local index 0
get_field index 0
get_local index 0
get_field index 1
add_int
ret

-- introduce --
constant index 0, value This is a mathematical module
print
ret_naked

-- getVecFromPos --
get_global index 0, <structure Vec2>
get_local index 1
get_local index 2
struct_lit index 2
ret

-- getInt --
constant index 0, value 12
ret

-- getIntDef --
constant index 0, value 12
ret

-- global scope --
OP_EXIT_REPL

//---- test.rv ----

-- static --
constant index 0, value 3
ret

-- method --
get_local index 0
get_field index 0
ret

-- copy --
constant index 0, value 5
ret

-- main --
get_global index 2, <structure Bar>
OP_LOAD_STRUCT_DEF
OP_GET_DEFAULT index 0
struct_lit index 1
get_global index 1, <structure Foo>
get_global index 3, <function copy>
struct_lit index 1
get_local index 2
get_field index 0
call index 0
print
OP_GET_GLOBAL_REG index 2, <structure Bar>
OP_GET_STATIC_METHOD index 0
get_local index 2
OP_GET_FIELD_REG index 0
OP_REG_ASSIGN
get_local index 2
get_field index 0
call index 0
print
get_local index 1
bound_method index 1
get_local index 2
OP_GET_FIELD_REG index 0
OP_REG_ASSIGN
get_local index 2
get_field index 0
call index 0
print
OP_GET_GLOBAL_REG index 0, <module math>
OP_BOUND_IMPORT index 3
get_local index 2
OP_GET_FIELD_REG index 0
OP_REG_ASSIGN
get_local index 2
get_field index 0
call index 0
print
ret_naked

-- global scope --
get_global index 4, <function main>
call index 0
