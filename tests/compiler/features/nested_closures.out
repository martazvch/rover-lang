-- capture --
get_local index 0
unbox
print
ret_naked

-- capture1 --
get_local index 0
unbox
print
get_local index 1
unbox
print
ret_naked

-- nested2 --
push_null
load_sym index 4, <function capture1>
get_capt_frame index 0
get_capt_frame index 1
closure index 2
ret_naked

-- nested --
push_null
get_local index 0
unbox

load_sym index 3, <function nested2>
// 1 because 'c' already captured in frame slot 1
get_capt_frame index 1
get_capt_frame index 0
closure index 2
ret_naked

-- capture2 --
get_local index 0
unbox
print
ret_naked

-- main --
load_constant index 3, value 3
box

load_sym index 1, <function capture>
get_capt_local index 0
closure index 1

load_constant index 4, value 1
load_constant index 3, value 3
box
push_true
box
load_constant index 5, value 9

load_sym index 2, <function nested>
get_capt_local index 3
get_capt_local index 4
closure index 2

load_constant index 4, value 1
box

load_sym index 5, <function capture2>
get_capt_local index 7
closure index 1

load_constant index 6, value 2
set_local_box index 7
ret_naked

-- global scope --
load_sym index 0, <function main>
call index 0
