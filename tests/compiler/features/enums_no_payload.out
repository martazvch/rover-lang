-- init --
load_constant index 3, value <enum Bar, tag 0>
ret

-- toStr --
get_local index 0
get_tag
load_constant index 3, value <enum Bar, tag 0>
get_tag
eq_int
jump_false 7 -> 17
pop
load_constant index 4, value a
ret
jump 14 -> 18
pop
load_constant index 5, value b
ret

-- main --
load_constant index 6, value <enum Foo, tag 0>
load_constant index 7, value <enum Bar, tag 1>

get_local index 0
get_tag
load_constant index 6, value <enum Foo, tag 0>
get_tag
eq_int
pop

load_constant index 6, value <enum Foo, tag 0>
get_tag
get_local index 0
get_tag
eq_int
pop

load_constant index 6, value <enum Foo, tag 0>
get_tag
load_constant index 8, value <enum Foo, tag 1>
get_tag
eq_int
pop

get_local index 1
get_tag
load_constant index 3, value <enum Bar, tag 0>
get_tag
ne_int
pop

load_constant index 3, value <enum Bar, tag 0>
get_tag
get_local index 1
get_tag
ne_int
pop

load_constant index 3, value <enum Bar, tag 0>
get_tag
load_constant index 7, value <enum Bar, tag 1>
get_tag
ne_int
pop

load_sym index 1, <enum Bar>
get_fn index 0
call index 0

get_local index 2
invoke index 1
call index 1
print

ret_naked

-- global scope --
load_sym index 4, <function main>
call index 0
