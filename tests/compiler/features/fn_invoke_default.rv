// All assignment should resolve to the same type and calling convention
// should be transmitted
use data.math 

struct Foo {
    value = 8

    fn static(a = "def") -> int { 3 }

    fn method(self, a = "meth") -> int {
        self.value
    }

    fn importFuncFromMethod(self) -> fn(int) -> int {
        math.getIntDef
    }
}

fn copy(a = "cp") -> int {
    5
}

fn main() {
    var foo = Foo{}

    print = Foo.static()
    print copy()
    print foo.method()
    math.getInt()

    // Call conv survives a layer
    var tmp = foo.importFuncFromMethod()
    print tmp()
}
