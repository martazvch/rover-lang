// ---- math.rv ----

-- len --
get_local index 0
get_field index 0
get_local index 0
get_field index 1
add_int
ret

-- introduce --
constant index 0, value This is a mathematical module
print
ret_naked

-- getVecFromPos --
load_sym index 0, <structure Vec2>
get_local index 0
get_local index 1
struct_lit index 2
ret

-- getInt --
constant index 0, value 12
ret

-- getIntDef --
constant index 0, value 12
ret

-- global scope --
exit_repl

-- static --
constant index 0, value 3
ret

-- method --
get_local index 0
get_field index 0
ret

-- importFuncFromMethod --
load_extern_sym index 4, module 0
ret

-- copy --
constant index 0, value 5
ret

-- main --
load_sym index 0, <structure Foo>
get_default index 0
struct_lit index 1

load_sym index 0, <structure Foo>
get_static_method index 0

get_local index 1
call index 0
print

load_sym index 4, <function copy>
set_local index 1

get_local index 1
call index 0
print

get_local index 0
get_method index 1
closure index 1
set_local index 1

get_local index 1
call index 0
print

load_extern_sym index 4, module 0
set_local index 1

get_local index 1
call index 0
print

get_local index 0
get_method index 2
closure index 1

get_local index 2
call index 0
print

get_local index 2
call index 0
set_local index 1

get_local index 1
call index 0
print
ret_naked

-- global scope --
load_sym index 5, <function main>
call index 0
