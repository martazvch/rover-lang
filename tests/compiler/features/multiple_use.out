//---- math ----

-- len --
get_local index 0
get_field index 0
get_local index 0
get_field index 1
add_int
ret

-- introduce --
constant index 0, value This is a mathematical module
print
ret_naked

-- getVecFromPos --
load_sym index 0, <structure Vec2>
get_local index 0
get_local index 1
struct_lit index 2
ret

-- getInt --
constant index 0, value 12
ret

-- getIntDef --
constant index 0, value 12
ret

-- global scope --
exit_repl

// ---- geom ----

-- move --
get_local index 0
get_field index 0
get_local index 1
add_int
get_local_cow index 0
set_field index 0
get_local index 0
get_field index 1
get_local index 1
add_int
get_local_cow index 0
set_field index 1
ret_naked

-- display --
get_local index 0
get_field index 0
print
get_local index 0
get_field index 1
print
ret_naked

-- introduce --
constant index 0, value module for basic geometry
print
ret_naked

-- moveCenter --
get_local index 0
get_field index 1
get_field index 0
get_local index 1
get_field index 0
add_int
get_local_cow index 0
get_field_cow index 1
set_field index 0
get_local index 0
get_field index 1
get_field index 1
get_local index 1
get_field index 1
add_int
get_local_cow index 0
get_field_cow index 1
set_field index 1
get_local index 0
get_field index 1
ret

-- global scope --
exit_repl


// ---- simple_str ----

-- concat --
get_local index 0
get_local index 1
str_cat
ret

-- quote --
constant index 0, value '
get_local index 0
str_cat
constant index 1, value '
str_cat
ret

-- global scope --
exit_repl

// ---- test.rv ----

-- main --
load_extern_sym index 0, module 1
constant index 0, value 1
constant index 1, value 90
struct_lit index 2

get_local index 0
get_method index 1
call index 1

load_extern_sym index 4, module 1
constant index 2, value 10
get_local index 0
incr_ref
struct_lit index 2

get_local index 1
get_field index 1
get_field index 0
print

get_local index 1
get_field index 1
get_field index 1
print

load_extern_sym index 2, module 0
call index 0

load_extern_sym index 3, module 0
get_local index 1
get_field index 1
get_field index 0
get_local index 1
get_field index 1
get_field index 1
call index 2

get_local index 2
get_field index 0
print

get_local index 2
get_field index 1
print

load_extern_sym index 1, module 2
constant index 3, value local import
call index 1
print

get_local index 0
get_method index 1
call index 1

load_extern_sym index 0, module 2
constant index 4, value just 
constant index 5, value concaneted
call index 2
print

get_local index 1
get_method index 0
get_local index 0
call index 2

get_local index 3
get_method index 1
call index 1

get_local index 1
get_field index 1
get_field index 0
print

get_local index 1
get_field index 1
get_field index 1
print

ret_naked

-- global scope --
load_sym index 0, <function main>
call index 0
