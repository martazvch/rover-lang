//---- math ----

-- len --
get_local index 0
get_field index 0
get_local index 0
get_field index 1
add_int
ret

-- introduce --
load_constant index 3, value This is a mathematical module
print
ret_naked

-- getVecFromPos --
get_local index 0
get_local index 1
struct_lit index 0, arity 2, <structure Vec2>
ret

-- getInt --
load_constant index 4, value 12
ret

-- getIntDef --
load_constant index 4, value 12
ret

-- global scope --
exit_repl

// ---- geom ----

-- move --
get_local index 0
get_field index 0
get_local index 1
add_int
get_local_cow index 0
set_field index 0
get_local index 0
get_field index 1
get_local index 1
add_int
get_local_cow index 0
set_field index 1
ret_naked

-- display --
get_local index 0
get_field index 0
print
get_local index 0
get_field index 1
print
ret_naked

-- introduce --
load_constant index 3, value module for basic geometry
print
ret_naked

-- moveCenter --
get_local index 0
get_field index 1
get_field index 0
get_local index 1
get_field index 0
add_int
get_local_cow index 0
get_field_cow index 1
set_field index 0
get_local index 0
get_field index 1
get_field index 1
get_local index 1
get_field index 1
add_int
get_local_cow index 0
get_field_cow index 1
set_field index 1
get_local index 0
get_field index 1
ret

-- global scope --
exit_repl


// ---- simple_str ----

-- concat --
get_local index 0
get_local index 1
str_cat
ret

-- quote --
load_constant index 3, value '
get_local index 0
str_cat
load_constant index 3, value '
str_cat
ret

-- global scope --
exit_repl

// ---- test.rv ----

-- main --
load_constant index 3, value 1
load_constant index 4, value 90
struct_lit_ext index 0, module 1, arity 2

get_local index 0
call_sym_ext index 2, module 1, arity 1

load_constant index 5, value 10
get_local index 0
incr_ref
struct_lit_ext index 4, module 1, arity 2

get_local index 1
get_field index 1
get_field index 0
print

get_local index 1
get_field index 1
get_field index 1
print

call_sym_ext index 2, module 0, arity 0

get_local index 1
get_field index 1
get_field index 0
get_local index 1
get_field index 1
get_field index 1
call_sym_ext index 3, module 0, arity 2

get_local index 2
get_field index 0
print

get_local index 2
get_field index 1
print

load_constant index 6, value local import
call_sym_ext index 1, module 2, arity 1
print

get_local index 0
call_sym_ext index 2, module 1, arity 1

load_constant index 7, value just 
load_constant index 8, value concaneted
call_sym_ext index 0, module 2, arity 2
print

get_local index 1
get_local index 0
call_sym_ext index 5, module 1, arity 2

get_local index 3
call_sym_ext index 2, module 1, arity 1

get_local index 1
get_field index 1
get_field index 0
print

get_local index 1
get_field index 1
get_field index 1
print

ret_naked

-- global scope --
call_sym index 0, arity 0, <function main>
